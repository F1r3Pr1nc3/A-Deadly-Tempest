
# Gray Goo Interdictor
graygoo_interdictor = {
	graphical_culture = no
	entity = gatebuilder_01_cruiser_entity
	# formation_priority = @battleship_formation_priority
	max_speed = @aj_speed_fast
	acceleration = 0.25
	rotation_speed = 0.175
	collision_radius = 4
	modifier = {
		ship_shield_add = 1000
		ship_armor_add = 1000
		ship_evasion_add = 20
		# ships_upkeep_mult = -1
		ship_weapon_damage = 1
		ship_piracy_suppression_add = 4
	}
	ship_modifier = {
		ship_fire_rate_mult = 0.5
		ship_tracking_add = 25
		ship_accuracy_add = 25
	}
	max_hitpoints = 4000
	size_multiplier = 4
	fleet_slot_size = 4
	section_slots = { "mid" = { locator = "part1" } }
	num_target_locators = 0
	is_space_station = no
	icon_frame = 4
	class = shipclass_military
	enable_default_design = yes
	prerequisites = { "tech_nanite_ships" }
	is_designable = yes

	base_buildtime = 200

	construction_type = starbase_shipyard

	required_component_set = "power_core"
	required_component_set = "ftl_components"
	required_component_set = "combat_computers"
	required_component_set = "thruster_components"
	required_component_set = "sensor_components"

	potential_construction = {
		OR = {
			is_scope_type = starbase
			AND = {
				is_scope_type = megastructure
				OR = {
					is_megastructure_type = mega_shipyard_3
					is_megastructure_type = mega_shipyard_restored
				}
			}
		}
		from = { has_technology = tech_nanite_ships }
	}
	possible_construction = {
		custom_tooltip = {
			fail_text = starbase_nanite_yards_trigger
			OR = {
				AND = {
					is_scope_type = starbase
					OR = {
						has_starbase_building = nanite_yards
						has_starbase_size = graygoo_factory
						has_starbase_size = scavenger_bot
					}
				}
				AND = {
					is_scope_type = megastructure
					OR = {
						is_megastructure_type = mega_shipyard_3
						is_megastructure_type = mega_shipyard_restored
					}
				}
			}
		}
	}

	resources = {
		category = ships
		cost = {
			nanites = 10
		}
		upkeep = {
			nanites = 1
		}
	}
}

# Gray Goo Mothership
graygoo_mothership = {
	graphical_culture = no
	entity = "gatebuilder_01_mothership_entity"
	formation_priority = @titan_formation_priority
	max_speed = @aj_speed_default
	acceleration = 0.2
	rotation_speed = 0.15
	collision_radius = 5
	modifier = {
		ship_shield_add = 4000
		ship_armor_add = 4000
		ship_evasion_add = 10
		# ships_upkeep_mult = -1
		ship_weapon_damage = 1
	}
	ship_modifier = {
		ship_fire_rate_mult = 0.5
		ship_tracking_add = 25
		ship_accuracy_add = 25
	}
	max_hitpoints = 20000
	size_multiplier = 16
	fleet_slot_size = 16
	section_slots = { "mid" = { locator = "part1" } }
	num_target_locators = 0
	is_space_station = no
	icon_frame = 6
	class = shipclass_military
	prerequisites = { "tech_nanite_ships" }
	is_designable = yes

	base_buildtime = @titan_build_time

	construction_type = starbase_shipyard
	enable_default_design = yes

	potential_construction = {
		OR = {
			is_scope_type = starbase
			AND = {
				is_scope_type = megastructure
				OR = {
					is_megastructure_type = mega_shipyard_3
					is_megastructure_type = mega_shipyard_restored
				}
			}
		}
		from = { has_technology = tech_nanite_ships }
	}
	possible_construction = {
		custom_tooltip = {
			fail_text = starbase_nanite_yards_trigger
			OR = {
				AND = {
					is_scope_type = starbase
					OR = {
						has_starbase_building = nanite_yards
						has_starbase_size = graygoo_factory
						has_starbase_size = scavenger_bot
					}
				}
				AND = {
					is_scope_type = megastructure
					OR = {
						is_megastructure_type = mega_shipyard_3
						is_megastructure_type = mega_shipyard_restored
					}
				}
			}
		}
	}

	resources = {
		category = ships
		cost = {
			nanites = 100
		}
		upkeep = {
			nanites = 4
		}
	}

	min_upgrade_cost = {
		alloys = 16
	}

	required_component_set = "power_core"
	required_component_set = "ftl_components"
	required_component_set = "combat_computers"
	required_component_set = "thruster_components"
	required_component_set = "sensor_components"
	required_component_set = "special_ship_slot"			# built-in support for New Ship Classes and More
	required_component_set = "c_ship_crew"					# built-in support for Guilli's Ship Components

	empire_limit = {
		base = 1
		max = 100
		naval_cap_div = 100
	}
}

# Automated Dreadnought
auto_dread = {
	# graphical_culture = { "npf_01" "npf_01_dirty" }
	# is_space_object = yes
	graphical_culture = no
	# entity = "npc_warship_01_entity"
	formation_priority = @titan_formation_priority
	max_speed = @aj_speed_slow
	acceleration = 0.15
	rotation_speed = 0.1
	collision_radius = 7
	modifier = {
		ship_evasion_add = 2
		ships_upkeep_mult = -1
		ship_weapon_damage = 2
		ship_shield_mult = 3
		ship_armor_add = 6000
	}
	max_hitpoints = 12000
	combat_size_multiplier = 50
	size_multiplier = 32
	fleet_slot_size = 8
	section_slots = { "mid" = { locator = "part1" } }
	num_target_locators = 0
	is_space_station = no
	icon_frame = 6

	base_buildtime = @titan_build_time
	can_have_federation_design = no
	enable_default_design = yes	#if yes, countries will have an auto-generated design at start

	default_behavior = line

	prerequisites = { "tech_auto_dread" }

	combat_disengage_chance = 1.25

	class = shipclass_military
	# is_designable = yes
	construction_type = starbase_shipyard
	potential_construction = {
		OR = {
			is_scope_type = starbase
			AND = {
				is_scope_type = megastructure
				OR = {
					is_megastructure_type = mega_shipyard_3
					is_megastructure_type = mega_shipyard_restored
				}
			}
		}
		# from = { has_technology = tech_nanite_ships }
	}
	possible_construction = {
		custom_tooltip = {
			fail_text = requires_starfortress 
			OR = {
				AND = {
					is_scope_type = starbase
					has_starbase_size >= starbase_starfortress
				}
				AND = {
					is_scope_type = megastructure
					OR = {
						is_megastructure_type = mega_shipyard_3
						is_megastructure_type = mega_shipyard_restored
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = starbase_nanite_yards_trigger
			OR = {
				AND = {
					is_scope_type = starbase
					OR = {
						has_starbase_building = nanite_yards
						has_starbase_size = graygoo_factory
						has_starbase_size = scavenger_bot
					}
				}
				AND = {
					is_scope_type = megastructure
					OR = {
						is_megastructure_type = mega_shipyard_3
						is_megastructure_type = mega_shipyard_restored
					}
				}
			}
		}
	}

	required_component_set = "power_core"
	required_component_set = "ftl_components"
	required_component_set = "thruster_components"
	required_component_set = "sensor_components"
	required_component_set = "combat_computers"
	required_component_set = "special_ship_slot"			# built-in support for New Ship Classes and More
	required_component_set = "nsc_titan_aura"				# built-in support for New Ship Classes and More
	required_component_set = "c_ship_crew"					# built-in support for Guilli's Ship Components

	resources = {
		category = ships
		upkeep = {
			energy = @titan_upkeep_energy
			alloys = @titan_upkeep_alloys
		}
	}

	min_upgrade_cost = {
		alloys = 16
	}

}

# Nanite Drake
nanite_dragon = {
	graphical_culture = no
	# entity = nanite_dragon_entity
	entity = nanite_space_dragon_baby_entity
	formation_priority = @colossus_formation_priority
	max_speed = @aj_speed_very_fast_npc
	acceleration = 0.8
	rotation_speed = 0.8
	collision_radius = 7
	modifier = {
		ship_evasion_add = 45
		ships_upkeep_mult = -1
		ship_armor_add = 10000
	}
	max_hitpoints = @colossus_hp
	size_multiplier = 16
	fleet_slot_size = 16
	section_slots = { "mid" = { locator = "part1" } }
	num_target_locators = 0
	# is_space_station = yes
	icon_frame = 12
	base_buildtime = @titan_build_time
	can_have_federation_design = no
	enable_default_design = yes	#if yes, countries will have an auto-generated design at start
	default_behavior = artillery
	prerequisites = { "tech_nanite_dragon" }
	combat_disengage_chance = 1.25
	class = shipclass_military
	# is_designable = no
	construction_type = starbase_shipyard

	potential_construction = {
		OR = {
			is_scope_type = starbase
			AND = {
				is_scope_type = megastructure
				OR = {
					is_megastructure_type = mega_shipyard_3
					is_megastructure_type = mega_shipyard_restored
				}
			}
		}
		from = { has_technology = tech_nanite_ships }
	}
	possible_construction = {
		custom_tooltip = {
			fail_text = starbase_nanite_yards_trigger
			OR = {
				AND = {
					is_scope_type = starbase
					OR = {
						has_starbase_building = nanite_yards
						has_starbase_size = graygoo_factory
						has_starbase_size = scavenger_bot
					}
				}
				AND = {
					is_scope_type = megastructure
					OR = {
						is_megastructure_type = mega_shipyard_3
						is_megastructure_type = mega_shipyard_restored
					}
				}
			}
		}
	}

	required_component_set = "power_core"
	required_component_set = "ftl_components"
	required_component_set = "sensor_components"
	required_component_set = "thruster_components"
	required_component_set = "combat_computers"
	required_component_set = "special_ship_slot"			# built-in support for New Ship Classes and More
	required_component_set = "nsc_titan_aura"				# built-in support for New Ship Classes and More

	resources = {
		category = ships
		upkeep = {
			minerals = @colossus_upkeep_alloys
		}
	}

	min_upgrade_cost = {
		alloys = 16
		nanites = 8
	}

}

# Scavenger Bot
scavenger_bot = {
	graphical_culture = no
	entity = leviathan_01_scavenger_bot_entity
	# can_be_inspected = no
	formation_priority = @juggernaut_formation_priority
	max_speed = @aj_speed_very_slow
	acceleration = 0.3
	rotation_speed = 0.05
	collision_radius = 7
	max_hitpoints = @juggernaut_hp
	modifier = {
		ship_shield_add = 50000
		ship_armor_add = 50000
		starbase_shipyard_capacity_add = 2
		# ships_upkeep_mult = -1
	}

	base_buildtime = @colossus_build_time
	resources = {
		category = ships
		cost = {
			nanites = 100
		}
		upkeep = {
			energy = 15
			alloys = 8
			nanites = 8
		}
	}

	combat_size_multiplier = 5
	size_multiplier = 32
	fleet_slot_size = 16
	section_slots = { "mid" = { locator = "part1" } "bot_1" = { locator = "bot_1" } "bot_2" = { locator = "bot_2" } "bot_3" = { locator = "bot_3" } }

	potential_construction = {
		OR = {
			AND = {
				is_scope_type = starbase
				NOT = { has_starbase_size = juggernaut }
			}
			AND = {
				is_scope_type = megastructure
				OR = {
					is_megastructure_type = mega_shipyard_3
					is_megastructure_type = mega_shipyard_restored
				}
			}
		}
	}
	possible_construction = {
		custom_tooltip = {
			fail_text = starbase_citadel_trigger
			OR = {
				AND = {
					is_scope_type = megastructure
					OR = {
						is_megastructure_type = mega_shipyard_3
						is_megastructure_type = mega_shipyard_restored
					}
				}
				AND = {
					is_scope_type = starbase
					has_starbase_size >= starbase_citadel
				}
			}
		}
		custom_tooltip = {
			fail_text = starbase_colossal_yards_trigger
			OR = {
				AND = {
					is_scope_type = megastructure
					OR = {
						is_megastructure_type = mega_shipyard_3
						is_megastructure_type = mega_shipyard_restored
					}
				}
				AND = {
					is_scope_type = starbase
					has_starbase_building = colossus_yards
				}
			}
		}
	}

	empire_limit = { base = 1 }

	num_target_locators = 3
	is_space_station = yes
	# can_have_federation_design = no
	enable_default_design = yes
	can_disable = yes
	icon_frame = 7
	ship_class_icon_frame = 35

	required_component_set = "power_core"
	required_component_set = "sensor_components"
	required_component_set = "combat_computers"
	required_component_set = "ftl_components"
	required_component_set = "thruster_components"
	required_component_set = "ship_aura_components"
	required_component_set = "special_ship_slot"			# built-in support for New Ship Classes and More
	required_component_set = "nsc_titan_aura"				# built-in support for New Ship Classes and More

	default_behavior = carrier
	combat_disengage_chance = 0.25

	prerequisites = { "tech_scavenger_bot" }
	class = shipclass_starbase
	construction_type = starbase_shipyard

	min_upgrade_cost = {
		alloys = 16
		nanites = 16
	}
}

# Nanite Starbase
starbase_gatebuilders = {
	graphical_culture = no
	max_speed = 0
	acceleration = 0
	rotation_speed = 0
	entity = gatebuilder_01_space_station_entity
	can_be_inspected = yes
	build_block_radius = @aj_build_block_radius_starbase
	formation_priority = @aj_starbase_formation_priority
	modifier = {
		ship_evasion_mult = -1
		ship_shield_add = 20000
		ship_armor_add = 20000
	}
	ship_modifier = {
		ship_fire_rate_mult = 0.5
		ship_tracking_add = 25
		ship_accuracy_add = 25
	}
	max_hitpoints = 40000
	base_buildtime = 730
	combat_size_multiplier = 50
	size_multiplier = 4
	fleet_slot_size = 2
	section_slots = { "mid" = { locator = "part1" } }
	is_designable = no
	num_target_locators = 0
	is_space_station = yes # vanilla no
	can_have_federation_design = no
	is_civilian = no
	components_add_to_cost = no
	is_listed = no
	can_disable = yes
	prerequisites = { "tech_nanite_ships" }
	enable_default_design = yes #if yes, countries will have an auto-generated design at start
	class = shipclass_starbase

	required_component_set = "power_core"
	required_component_set = "sensor_components"
	required_component_set = "combat_computers"

	icon_frame = -1
}

# Nanite Factory
graygoo_factory = {
	graphical_culture = no
	# entity = gatebuilder_01_space_station_entity
	entity = gatebuilder_02_space_station_entity
	can_be_inspected = no
	max_speed = 0
	acceleration = 0
	rotation_speed = 0
	collision_radius = 17
	modifier = {
		# ship_evasion_mult = -1
		ship_armor_add = 50000
		ship_shield_add = 50000
		ships_upkeep_mult = -1
		ship_weapon_damage = 1
	}
	ship_modifier = {
		ship_fire_rate_mult = 1
		ship_tracking_add = 50
		ship_accuracy_add = 50
		ship_evasion_mult = -1
	}
	max_hitpoints = 100000
	combat_size_multiplier = 20
	size_multiplier = 16
	fleet_slot_size = 8
	section_slots = { "mid" = { locator = "part1" } }
	num_target_locators = 4
	is_space_station = yes
	build_block_radius = 30
	is_civilian = no
	components_add_to_cost = no
	is_listed = no
	can_disable = no
	enable_default_design = no
	prerequisites = { "tech_nanite_ships" }
	class = shipclass_military_station

	is_designable = no

	required_component_set = "power_core"
	required_component_set = "combat_computers"
	required_component_set = "sensor_components"
	required_component_set = "station_large_aura_components"

}
